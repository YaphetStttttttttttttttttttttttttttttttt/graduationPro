<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
    PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
    "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
    
    
    <mapper namespace="com.gp.mapper.TeacherMapper">
    	<sql id="key">
    		id,name,sex,deid
    		<trim prefix=",">
    			<if test="title != null and title !=''">
    				title
    			</if>
    			<if test="tel != null and tel !=''">
    				tel
    			</if>
    			<if test="e_mail != null and e_mail !=''">
    				e_mail
    			</if>
    		</trim>
    	</sql>
    	<sql id="values">
    		#{id},#{name},#{sex.num},#{deid.id}
    		<trim prefix=",">
    			<if test="title != null and title !=''">
    				#{title}
    			</if>
    			<if test="tel != null and tel !=''">
    				#{tel}
    			</if>
    			<if test="e_mail != null and e_mail !=''">
    				#{e_mail}
    			</if>
    		</trim>
    	</sql>
        <select id="getCountById" resultType="int">
        	select count(*) from teacher where id = #{id}
        </select>
        <insert id="add" parameterType="Teacher">
        	insert into teacher(<include refid="key"/>) values(<include refid="values"/>)
        </insert>
    </mapper>